---
import Layout from '../layouts/Layout.astro';
---

<Layout title="It's Chill">
	<main id="app">
		<header class="hero">
			<img src="/logo.png" alt="It's Chill" class="logo title" />
			<p class="subtitle">a mindset.</p>
            
            <nav class="nav-links" style="margin-bottom: 1.5rem;">
                <a href="/media" class="nav-link">Previous Posts</a>
                <a href="https://shop.itschill.org" class="nav-link" target="_blank" rel="noopener noreferrer">Shop</a>
            </nav>

            <div class="social-links" style="margin-top: 0;">
                <a href="https://www.instagram.com/itschill_6/" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                </a>
                <a href="https://chat.whatsapp.com/DeEQIB9G3aB1nKJED4Sv7d" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                </a>
            </div>
		</header>

		<div class="content">
			<section class="card reveal">
				<h2>What does this mean?</h2>
				<p>
					“It’s chill” is a vibe and a mindset. It’s that moment where you remind yourself to stay grounded, calm, and
					positive. Saying it doesn’t mean you don’t care — it means you’re choosing calm over chaos. It’s a tiny reset
					button you can use anytime your life starts getting loud.
				</p>
			</section>

			<section class="card reveal">
				<h2>Is everything always really chill?</h2>
				<p>
					Let’s be real. No, life is not always chill. Life can be messy, emotional, and unbelievably stressful. But you
					can still stay chill in the middle of all that. This movement is not about pretending everything is sunshine;
					it’s about learning to breathe, ground yourself, and not let one moment take over your whole mood. It’s your
					reminder that even when things aren’t chill, you can be.
				</p>
			</section>

			<section class="card reveal">
				<h2>Emotional Expression</h2>
				<p>
					“It’s chill” is not a way to shut down your feelings — it’s a way to give yourself a second to
					actually understand them. Expression is healthy, you can still be sad, annoyed, stressed, or overwhelmed. The
					phrase just helps you stay grounded enough to process what you’re feeling instead of letting it control you.
					Being chill doesn’t mean being numb; it means handling your emotions with clarity instead of chaos.
				</p>
			</section>

			<section class="card reveal">
				<h2>How does it work?</h2>
				<p>
					Start saying it’s chill more often! Especially in the stressful times in your life. That small moment
					interrupts the spiral and helps your brain shift out of panic mode. From there, you breathe, re-center, and
					then deal with whatever’s in front of you with more calm and clarity. The more you use it, the more automatic
					it becomes.
				</p>
			</section>
		</div>

        <div class="chill-button-container">
            <div class="chill-btn-housing">
                <button id="chill-trigger" class="chill-btn">Chill<br/>time</button>
            </div>
        </div>

		<footer class="footer">
			<p>Stay Chill.</p>
            <nav class="footer-nav">
                <a href="/">Home</a>
                <a href="/media">Previous Posts</a>
                <a href="https://shop.itschill.org" target="_blank" rel="noopener noreferrer">Shop</a>
            </nav>
			<p class="dedication">L'ilui Nishmas Etta Ahuva bas Yaakov<br />and Toba bas Yehoshua Yaakov</p>
		</footer>
	</main>

    <div id="chill-overlay" class="chill-overlay">
        <div class="floating-blob" style="width: 400px; height: 400px; background: var(--color-primary); top: -100px; left: -100px;"></div>
        <div class="floating-blob" style="width: 300px; height: 300px; background: var(--color-secondary); bottom: -50px; right: -50px; animation-delay: -5s;"></div>
        <div class="chill-text">Chill...</div>
    </div>
</Layout>

<script>
	// Scroll Reveal
	const observerOptions = {
		threshold: 0.1,
		rootMargin: "0px 0px -10px 0px"
	};

	const observer = new IntersectionObserver((entries) => {
		entries.forEach(entry => {
			if (entry.isIntersecting) {
				entry.target.classList.add('active');
				observer.unobserve(entry.target);
			}
		});
	}, observerOptions);

	document.querySelectorAll('.reveal').forEach(el => {
		observer.observe(el);
	});

	// Title Interactivity
	const title = document.querySelector('.title') as HTMLElement;
	if (title) {
		title.addEventListener('click', () => {
			title.classList.remove('bounce');
			void title.offsetWidth; // Trigger reflow
			title.classList.add('bounce');
		});
		title.style.cursor = 'pointer';
		title.title = "Click me for a vibe check";
	}

    // Chill Mode Logic
    const chillBtn = document.getElementById('chill-trigger');
    const chillOverlay = document.getElementById('chill-overlay');
    const chillText = drilldown(chillOverlay, '.chill-text');

    function drilldown(parent: HTMLElement | null, selector: string) {
        return parent?.querySelector(selector) as HTMLElement | null;
    }

    if (chillBtn && chillOverlay) {
        chillBtn.addEventListener('click', () => {
            chillOverlay.classList.add('active');
            
            // Track the event in Google Analytics
            // @ts-ignore
            if (typeof gtag === 'function') {
                // @ts-ignore
                gtag('event', 'chill_button_press', {
                    'event_category': 'interaction',
                    'event_label': 'Chill Time Button'
                });
            }

            // Randomize text for a fun vibe
            const messages = ["Chill...", "It's all good.", "Breathe.", "Stay Grounded.", "You got this."];
            const textEl = chillOverlay.querySelector('.chill-text');
            if (textEl) {
                textEl.textContent = messages[Math.floor(Math.random() * messages.length)];
            }

            // Auto-hide after 5 seconds
            setTimeout(() => {
                chillOverlay.classList.remove('active');
            }, 5000);
        });

        // Click overlay to hide early
        chillOverlay.addEventListener('click', () => {
            chillOverlay.classList.remove('active');
        });
    }

	console.log("It's Chill. Logic loaded.");
</script>
